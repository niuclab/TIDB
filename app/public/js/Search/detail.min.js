$("#homeNav").addClass("active");function createTable(e,d,b,c){var a=[{field:"proteinname",title:"Gene",sortable:true,filterControl:"input",formatter:function(g,h,f){return"<a href="+baseUrl+"/Home/Search/gene/geneid/"+g+">"+g.toUpperCase()+"</a>"
}},{field:"diseasename",title:"Disease",sortable:true,filterControl:"select",formatter:function(g,h,f){if(g){return g.capitalizeFirstLetter()
}else{return"-"}}},{field:"docid",title:"PubMed ID",filterControl:"input",formatter:function(g,h,f){return"<a href='https://www.ncbi.nlm.nih.gov/pubmed/"+g+"' target='_blank'>"+g+"</a>"
}},{field:"sentence",title:"Evidence",filterControl:"input",formatter:function(g,h,f){return"......"+g+"......</span>"
}},{width:"10%",title:"Manual validation",formatter:function(g,h,f){return'<div class="btn-group btn-group-xs" role="group" aria-label="..."><button type="button" class="btn btn-success btn-operate" data-sentid="'+h.sentid+'" data-value="Yes">Yes('+h.yes+')</button><button type="button" class="btn btn-danger btn-operate" data-sentid="'+h.sentid+'" data-value="No">No('+h.no+")</button></div>"
}}];$("#resultTable").bootstrapTable({filterControl:true,columns:a,pagination:true,url:baseUrl+"/Home/Search/detailPaging",queryParams:function(f){f.proteinid=e;
f.diseaseid=d;f.genesample=b;return f},onClickCell:function(j,h,k,g){if("sentence"==j){var i=k.sentid;
var f=k.docid;getSentences(i,f)}},onLoadSuccess:function(f){$(".btn-operate").click(function(){var g=true;
if(g){var i=$(this).attr("data-value");var h=$(this).attr("data-sentid");sendOperate(i,h)
}})}})}function sendOperate(b,a){$.ajax({url:baseUrl+"/Home/Operate/operate",type:"post",data:{sentid:a,operateval:b},success:function(c){$("#resultTable").bootstrapTable("refresh",{silent:true})
}})}function sentIdSort(d,c){var g=d.id;var h=c.id;var f=g.split("_")[1];var e=h.split("_")[1];
return Number(f)-Number(e)}function getSentences(b,a){$.ajax({url:baseUrl+"/Home/Search/getSentence",data:{docid:a},async:false,success:function(h){var c=JSON.parse(h);
c.sort(sentIdSort);var d="";var f=true;for(var e=0;e<c.length;e++){var g=c[e]["sentence"];
if(f&&b==c[e]["id"]){d=d+"<p class='text-info matchedSent'>"+g+"</p>";f=false}else{d=d+"<p class='text-info'>"+g+"</p>"
}}$(".highlightPara").empty().append(d);$("#showModal").modal("show")}})}function getHighlightData(a){var c=[];
for(var b in a){c.push({highlight:b,color:"#f00",highlightClass:a[b]})}return c}function mathcedPart(f,e){var g=e.split(" ");
if(!!f){for(var d=0;d<f.length;d++){var c=f[d];for(var b=0;b<g.length;b++){var a=g[b].replace(".","");
if(a==c&&b<g.length-1){g[b]="<span class='highlightItem'>"+c+"</span>"}else{if(a==c&&b==g.length-1){g[b]="<span class='highlightItem'>"+c+"</span>."
}}}}}return{sentence:g.join(" ")}}$(".btnSent").click(function(){if($(this).hasClass("active")){clearColor("matchedSent");
$(this).removeClass("active")}else{addColor("matchedSent","#DCDCDC");$(this).addClass("active")
}});$(".btnTerm").click(function(){if($(this).hasClass("active")){clearColor("match");
$(this).removeClass("active")}else{addColor("match","yellow");$(this).addClass("active")
}});function clearColor(a){$(".highlightPara ."+a).css("background-color","transparent")
}function addColor(b,a){$(".highlightPara ."+b).css("background-color",a)};